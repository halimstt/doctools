import{f as O,s as I,h as Y,b as Be,c as m,g as X,a as ye,e as V,d as Ae}from"./utils-DWbufHBs.js";let y=[],f="",b=null,d=[],v=[],T=null;const De="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",ne=document.getElementById("pdfUpload"),q=document.getElementById("pdfRawTextPreview"),oe=document.getElementById("processPdfButton"),ae=document.getElementById("supplierName"),re=document.getElementById("documentDate"),se=document.getElementById("documentNumber"),le=document.getElementById("totalAmount"),G=document.getElementById("configName"),_=document.getElementById("officialSupplierNameForExportInput"),U=document.getElementById("supplierNameRegex"),A=document.getElementById("documentDateRegex"),D=document.getElementById("documentNumberRegex"),P=document.getElementById("totalAmountRegex"),h=document.getElementById("configSelect"),W=document.getElementById("previewButton"),B=document.getElementById("dropArea"),ue=document.getElementById("uploadedFilesList");document.getElementById("allExtractedResultsContainer");const K=document.getElementById("extractedResultsTableBody"),ve=document.getElementById("downloadCsvButton"),Pe=document.getElementById("clearUploadFormButton"),ee=document.getElementById("currentAnalysisFileName"),F=document.getElementById("tabButtonProcess"),$=document.getElementById("tabButtonTemplate"),me=document.getElementById("tabContentProcess"),ge=document.getElementById("tabContentTemplate"),Le=document.getElementById("aiSuggestDateBtn"),Re=document.getElementById("aiSuggestNumberBtn"),ke=document.getElementById("aiSuggestAmountBtn");document.getElementById("confirmationModal");document.getElementById("confirmationModalTitle");document.getElementById("confirmationModalText");document.getElementById("confirmActionButton");document.getElementById("cancelConfirmationButton");const he=document.getElementById("regexSuggestModal"),Fe=document.getElementById("regexSuggestModalTitle"),Ee=document.getElementById("regexUserPrompt"),z=document.getElementById("generateRegexButton"),w=document.getElementById("regexSuggestionsContainer");document.getElementById("noSuggestionsText");const C=document.getElementById("regexSuggestStatus"),$e=document.getElementById("cancelRegexSuggestButton"),j=document.getElementById("useSelectedRegexButton"),S=document.getElementById("regexTestResult"),ie=document.getElementById("saveTemplateButton"),ce=document.getElementById("deleteTemplateButton"),be=document.getElementById("importConfigButton"),Ne=document.getElementById("exportAllConfigsButton"),pe=document.getElementById("upload-label-invoice"),fe=document.getElementById("file-info-invoice");function Me(e){console.log("[DEBUG]",e)}function k(){m("No Document Selected","Please select a document from the 'Extract' tab first to proceed.","OK",()=>{},()=>{})}function Q(e){T=e,Fe.textContent=`AI Regex Suggestions for ${e.replace(/([A-Z])/g," $1").toLowerCase().replace("document ","")}`,Ee.value="",w.innerHTML='<p id="noSuggestionsText" class="text-sm p-secondary">Click "Generate Suggestions" to get AI help.</p>',j.disabled=!0,C.textContent="",S.textContent="Test Result: No regex tested yet.",he.showModal()}function Se(){he.close(),T=null}function Oe(e){if(!f){S.textContent="Test Result: Error - No PDF text loaded for analysis.",S.classList.add("text-red-500");return}S.classList.remove("text-red-500","text-green-500");try{const t=new RegExp(e,"i"),n=f.match(t);if(n){const o=n[1]?n[1].trim():n[0].trim();let s=o;T==="documentNumber"&&(s=o.replace(/\s*-\s*/g,"-").replace(/\s+/g,"").trim()),S.textContent=`Test Result: Match Found -> "${s}"`,S.classList.add("text-green-500")}else S.textContent="Test Result: No match found.",S.classList.add("text-red-500")}catch(t){S.textContent=`Test Result: Invalid regex pattern -> ${t.message}`,S.classList.add("text-red-500")}}function Ue(){const e=w.querySelector('input[name="regexSuggestion"]:checked');if(e){const t=decodeURIComponent(e.value);T==="documentDate"?A.value=t:T==="documentNumber"?D.value=t:T==="totalAmount"&&(P.value=t),Se(),W.click()}else m("Selection Required","Please select a regex suggestion first.","OK",()=>{},()=>{})}async function te(e,t=null,n=!1,o=!1,s=!0,r=null,a=null){let i=X();if(s&&!i)try{const c=await ye();if(!c)return m("API Key Required","Gemini API key is required for AI-powered features. Operation canceled.","OK",()=>{},()=>{}),null;i=c}catch(c){return console.error("Error getting Gemini API key:",c),m("API Key Error","Could not get Gemini API key. Operation canceled.","OK",()=>{},()=>{}),null}oe.disabled=!0,W.disabled=!0,ie.disabled=!0,ce.disabled=!0,be.disabled=!0,Ne.disabled=!0,document.querySelectorAll(".ai-suggest-button").forEach(c=>{c.disabled=!0});let l,g="application/json",p={};if(o&&d.length>0)return p=Ie(e,d),p;if(r){C.textContent="Generating suggestions...";let c=`From the following document text, suggest 3-5 JavaScript-compatible regular expressions (regex) to extract the "${r}" field. Provide only the regex patterns, in a JSON array format like {"regexSuggestions": ["regex1", "regex2", "regex3"]}. The regex should include a capturing group for the value if applicable, and be suitable for use with JavaScript's String.prototype.match() method.`;a&&(c+=`

Additional context from user: "${a}"`),l=`${c}
Document Text: "${e.substring(0,Math.min(e.length,1500))}"`,g="application/json"}else if(s)l=`Extract the following information from the invoice/receipt text:
`,l+=`- Supplier Name
- Document Date
- Document Number
- Total Amount

`,l+=`Return the results in a JSON object with keys: "supplierName", "documentDate", "documentNumber", "totalAmount".
`,l+=`If a value is not found, return null for that key. Ensure Total Amount is a number (e.g., 123.45). Date should be in DD/MM/YYYY format.

`,t&&(l+=`Here are some extraction guidelines. For each field, **strictly attempt to extract using the provided pattern first.** If the pattern does not yield a result, or if no pattern is provided, then use general knowledge to find the best match:
`,t.supplierNamePattern&&(l+=`- Supplier Name Regex: "${t.supplierNamePattern}"
`),t.documentDatePattern&&(l+=`- Document Date Regex: "${t.documentDatePattern}"
`),t.documentNumberPattern&&(l+=`- Document Number Regex: "${t.documentNumberPattern}"
`),t.totalAmountPattern&&(l+=`- Total Amount Regex: "${t.totalAmountPattern}"
`),l+=`
`),l+=`Invoice/Receipt Text:

${e}

JSON Output:`;else return p=Ke(e,t),p;try{const c=await fetch(`${De}?key=${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{responseMimeType:g}})});if(!c.ok){const R=await c.json();throw new Error(`API call failed: ${R.error.message||c.statusText}`)}const E=await c.json();if(!E.candidates||!E.candidates.length||!E.candidates[0].content||!E.candidates[0].content.parts||!E.candidates[0].content.parts.length||!E.candidates[0].content.parts[0].text)throw new Error("Invalid response format from Gemini API.");const x=JSON.parse(E.candidates[0].content.parts[0].text);return r?x&&Array.isArray(x.regexSuggestions)?(C.textContent="Suggestions generated. Select one to use.",x.regexSuggestions):(C.textContent="No regex suggestions could be generated.",[]):(Array.isArray(x)&&x.length>0?p=x[0]:typeof x=="object"&&x!==null&&(p=x),p)}catch(c){throw I("error",`AI operation failed: ${c.message}`),C.textContent=`Error: ${c.message}`,c}finally{u(),N()}}function Ke(e,t){const n={supplierName:null,documentDate:null,documentNumber:null,totalAmount:null},o=(s,r)=>{if(!r)return null;try{const a=new RegExp(r,"i"),i=s.match(a);return i?i[1]?i[1].trim():i[0].trim():null}catch(a){return console.error("Invalid regex pattern:",r,a),null}};if(t){n.supplierName=o(e,t.supplierNamePattern);let s=o(e,t.documentDatePattern);n.documentDate=s;let r=o(e,t.documentNumberPattern);r&&(r=r.replace(/\s*-\s*/g,"-").replace(/\s+/g,"").trim()),n.documentNumber=r;const a=o(e,t.totalAmountPattern);if(a){const i=a.replace(/[^0-9.]/g,""),l=parseFloat(i);isNaN(l)||(n.totalAmount=l)}}return n}function Ie(e,t){let n=[];const o=(r,a)=>{if(!a)return!1;try{return new RegExp(a,"i").test(r)}catch(i){return console.error("Invalid regex pattern for testing:",a,i),!1}};for(const r of t){let a=0;o(e,r.supplierNamePattern)&&(a+=4),o(e,r.documentNumberPattern)&&(a+=3),o(e,r.totalAmountPattern)&&(a+=2),o(e,r.documentDatePattern)&&(a+=1),a>0&&n.push({configName:r.name,score:a})}if(n.length===0)return{matchedConfigName:"None"};n.sort((r,a)=>a.score-r.score);const s=n[0];return s.score>=3?{matchedConfigName:s.configName}:{matchedConfigName:"None"}}async function je(){if(!f){m("Missing PDF","A PDF must be loaded for analysis to generate regex suggestions.","OK",()=>{},()=>{});return}if(!X()&&(await ye(),!X())){m("API Key Required","Gemini API key is required for AI-powered features. Operation canceled.","OK",()=>{},()=>{}),z.disabled=!1,u();return}const e=Ee.value.trim();C.textContent="Generating suggestions...",z.disabled=!0,j.disabled=!0,w.innerHTML='<p class="text-center"><span class="loading loading-spinner loading-md"></span> Generating...</p>';try{const t=await te(f,null,!1,!1,!0,T,e);w.innerHTML="",t&&t.length>0?(t.forEach((n,o)=>{const s=document.createElement("div");s.className="flex items-center mb-2",s.innerHTML=`
                    <input type="radio" name="regexSuggestion" id="regex-${o}" value="${encodeURIComponent(n)}" class="mr-2">
                    <label for="regex-${o}" class="text-sm font-mono bg-base-100 p-1 rounded cursor-pointer flex-1 break-all">${n}</label>
                `,w.appendChild(s)}),j.disabled=!1,C.textContent="Suggestions generated. Select one to use.",w.addEventListener("change",Ve)):(w.innerHTML='<p class="text-sm text-error">No regex suggestions could be generated. Try a different prompt.</p>',C.textContent="No suggestions.")}catch(t){console.error("Error generating regex suggestions:",t),w.innerHTML='<p class="text-sm text-error">Failed to get suggestions. Check console for details.</p>',C.textContent="Error generating suggestions."}finally{z.disabled=!1}}const H="invoiceTemplates";function He(){const e=localStorage.getItem(H);try{d=e?JSON.parse(e):[]}catch(t){console.error("Error parsing local storage configurations:",t),d=[]}return L(),d}function Je(){const e=G.value.trim();if(!e){m("Missing Template Name","Please enter a template name to save the configuration.","OK",()=>{},()=>{});return}const t={name:e,officialSupplierNameForExport:_.value.trim(),supplierNamePattern:U.value,documentDatePattern:A.value,documentNumberPattern:D.value,totalAmountPattern:P.value},n=d.findIndex(o=>o.name===e);n!==-1?m("Overwrite Template?",`A template named "${e}" already exists. Do you want to overwrite it?`,"Overwrite",()=>{d[n]=t,localStorage.setItem(H,JSON.stringify(d)),L(),m("Success","Template updated successfully.","OK",()=>{},()=>{})},()=>{}):(d.push(t),localStorage.setItem(H,JSON.stringify(d)),L(),m("Success","Template saved successfully.","OK",()=>{},()=>{})),u()}function Ge(){const e=h.value;if(!e){m("No Template Selected","Please select a template to delete.","OK",()=>{},()=>{});return}m("Confirm Deletion",`Are you sure you want to delete the template "${e}"? This action cannot be undone.`,"Delete",()=>{d=d.filter(t=>t.name!==e),localStorage.setItem(H,JSON.stringify(d)),J(),L(),m("Success","Template deleted successfully.","OK",()=>{},()=>{})},()=>{}),u()}function L(){if(h.innerHTML='<option value="">-- Select a template --</option>',d.length===0){h.innerHTML='<option value="">-- No templates available --</option>';return}d.forEach(e=>{const t=document.createElement("option");t.value=e.name,t.textContent=e.name,h.appendChild(t)})}function qe(){if(d.length===0){m("No Data to Export","There are no saved templates to export.","OK",()=>{},()=>{});return}const e=JSON.stringify(d,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=`invoice-templates-backup-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n),m("Export Complete","All templates exported successfully.","OK",()=>{},()=>{})}function ze(){const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=t=>{const n=t.target.files[0];if(!n)return;const o=new FileReader;o.onload=s=>{try{const r=JSON.parse(s.target.result);if(!Array.isArray(r))throw new Error("Invalid JSON format. Expected an array of templates.");let a=0,i=0;r.forEach(l=>{if(!l.name){console.warn("Skipping imported template due to missing name:",l);return}const g=d.findIndex(p=>p.name===l.name);g!==-1?(d[g]=l,i++):(d.push(l),a++)}),localStorage.setItem(H,JSON.stringify(d)),L(),m("Import Complete",`Successfully imported ${a} new templates and updated ${i} existing templates.`,"OK",()=>{},()=>{})}catch(r){m("Import Error","Failed to import configurations: "+r.message,"OK",()=>{},()=>{}),console.error("Error importing configurations:",r)}},o.readAsText(n)},e.click()}function xe(e){const t=Array.from(e).filter(n=>n.type==="application/pdf");if(t.length===0){y.length===0&&I("error","Please select valid PDF file(s)."),N();return}t.forEach(n=>{y.some(o=>o.name===n.name&&o.size===n.size)||y.push(n)}),Z(),Y()}function Ye(e){y.splice(e,1);const t=new DataTransfer;y.forEach(n=>t.items.add(n)),ne.files=t.files,Z(),y.length===0&&(Y(),de())}async function Ce(e){if(!e||e.type!=="application/pdf"){q.value="",ee.textContent="-",f="";return}ee.textContent=e.name;const t=new FileReader;t.onload=async n=>{const o=new Uint8Array(n.target.result);try{const s=await pdfjsLib.getDocument({data:o}).promise;let r="";for(let a=1;a<=s.numPages;a++){const l=await(await s.getPage(a)).getTextContent();r+=l.items.map(g=>g.str).join(" ")+`
`}f=r,q.value=r}catch(s){q.value="",m("PDF Text Extraction Error","Error extracting text from PDF: "+s.message,"OK",()=>{},()=>{}),console.error("PDF Text Extraction Error:",s),f=""}finally{u()}},t.readAsArrayBuffer(e)}function we(){const e=h.value;if(e===""){J();return}const t=d.find(n=>n.name===e);t?(b=t,G.value=b.name||"",_.value=b.officialSupplierNameForExport||"",U.value=b.supplierNamePattern||"",A.value=b.documentDatePattern||"",D.value=b.documentNumberPattern||"",P.value=b.totalAmountPattern||""):(m("Template Not Found","Selected template not found in local storage.","OK",()=>{},()=>{}),b=null),u(),N()}function Ve(e){if(e.target.name==="regexSuggestion"&&e.target.checked){const t=decodeURIComponent(e.target.value);Oe(t),j.disabled=!1}}function Z(){ue.innerHTML="",y.length===0?(fe.classList.add("hidden"),pe.classList.remove("hidden"),Y()):(fe.classList.remove("hidden"),pe.classList.add("hidden"),y.forEach((e,t)=>{const n=document.createElement("span");n.className="badge badge-md badge-info mr-2 mb-2",n.innerHTML=`
        ${e.name}
        <button type="button" class="ml-2" data-index="${t}">
          <svg class="h-3 w-3" stroke="currentColor" fill="none" viewBox="0 0 8 8">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M1 1l6 6m0-6L1 7" />
          </svg>
        </button>
      `,n.querySelector("button").addEventListener("click",o=>{const s=parseInt(o.currentTarget.dataset.index);Ye(s)}),ue.appendChild(n)}),Y()),N()}function _e(e,t){const n=K,o=n.querySelector('tr td[colspan="7"]');o&&o.parentElement.remove();const s=n.insertRow();s.setAttribute("data-index",t),s.className="table-row-base",s.innerHTML=`
      <td class="text-sm break-words max-w-[150px] overflow-hidden">${e.fileName}</td>
      <td class="text-xs">${e.configUsedName||"-"}</td>
      <td class="text-sm">${e.officialSupplierNameForExport||e.extractedSupplierName||"-"}</td>
      <td class="text-sm">${O(e.documentDate)}</td>
      <td class="text-sm">${e.documentNumber||"-"}</td>
      <td class="text-sm">${V(e.totalAmount)}</td>
      <td>
          <button data-index="${t}" class="analyze-row-button btn btn-info btn-sm flex items-center justify-center">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
          </button>
      </td>
  `,s.querySelector(".analyze-row-button").addEventListener("click",async r=>{const a=parseInt(r.target.closest("button").dataset.index),i=v[a],l=v[a].originalFile;if(M("Template"),await Ce(l),ae.textContent=i.extractedSupplierName||"-",re.textContent=O(i.documentDate),se.textContent=i.documentNumber||"-",le.textContent=V(i.totalAmount),i.configUsedName&&i.configUsedName!=="-"){const g=d.find(p=>p.name===i.configUsedName);g?(h.value=g.name,we()):(h.value="",b=null,J())}else h.value="",b=null,J();u()})}function We(){K.innerHTML="",v.length===0?K.innerHTML='<tr><td colspan="7" class="text-center">No documents processed yet.</td></tr>':v.forEach((e,t)=>{_e(e,t)})}function Ze(){if(v.length===0){I("info","No data to export to CSV.");return}const e=["Supplier Name","Document Date","Document Number","Total Amount"],t=v.map(n=>{const o=O(n.documentDate),s=V(n.totalAmount)||"";return{"Supplier Name":n.officialSupplierNameForExport||n.extractedSupplierName,"Document Date":o,"Document Number":n.documentNumber,"Total Amount":s}});Ae(t,e,"invoices.csv")}function J(){G.value="",_.value="",U.value="",A.value="",D.value="",P.value="",b=null,h.value="",u()}function de(){ae.textContent="-",re.textContent="-",se.textContent="-",le.textContent="-",ee.textContent="-",f="",q.value="",u()}function Te(){v=[],K.innerHTML='<tr><td colspan="7" class="text-center">No documents processed yet.</td></tr>',N()}function Qe(){y=[],ne.value="",Z(),f="",de(),J(),L(),Be(),Te(),M("Process"),u(),N()}function N(){const e=y.length>0,t=v.length>0;oe.disabled=!e,ve.disabled=!t}function u(){const e=f.length>0,t=G.value.trim().length>0,n=h.value!=="";W.disabled=!e,ie.disabled=!t,ce.disabled=!n,document.querySelectorAll(".ai-suggest-button").forEach(o=>{o.disabled=!e})}function M(e){e==="Process"?(F.classList.add("tab-active"),F.classList.remove("tab-button-inactive"),$.classList.add("tab-button-inactive"),$.classList.remove("tab-active"),me.classList.remove("hidden"),ge.classList.add("hidden"),N()):e==="Template"&&($.classList.add("tab-active"),$.classList.remove("tab-button-inactive"),F.classList.add("tab-button-inactive"),F.classList.remove("tab-active"),ge.classList.remove("hidden"),me.classList.add("hidden"),u(),de(),!f&&y.length>0&&Ce(y[0]))}document.addEventListener("DOMContentLoaded",async()=>{M("Process"),Z(),u(),N(),He(),F.addEventListener("click",()=>M("Process")),$.addEventListener("click",()=>M("Template")),ne.addEventListener("change",e=>xe(e.target.files)),Pe.addEventListener("click",Qe),B.addEventListener("dragover",e=>{e.preventDefault(),B.classList.add("border-primary","bg-primary","bg-opacity-10")}),B.addEventListener("dragleave",()=>{B.classList.remove("border-primary","bg-primary","bg-opacity-10")}),B.addEventListener("drop",e=>{e.preventDefault(),B.classList.remove("border-primary","bg-primary","bg-opacity-10"),xe(e.dataTransfer.files)}),oe.addEventListener("click",async()=>{if(y.length===0){k();return}Te(),K.innerHTML='<tr><td colspan="7" class="text-center">Processing...</td></tr>',N();let e=0;for(let t=0;t<y.length;t++){const n=y[t];if(n.type!=="application/pdf")continue;const o=new FileReader,s=new Promise((r,a)=>{o.onload=async i=>{const l=new Uint8Array(i.target.result);try{const g=await pdfjsLib.getDocument({data:l}).promise;let p="";for(let c=1;c<=g.numPages;c++){const x=await(await g.getPage(c)).getTextContent();p+=x.items.map(R=>R.str).join(" ")+`
`}r(p)}catch(g){a(`Error extracting text from PDF "${n.name}": ${g.message}`)}},o.onerror=i=>a(`FileReader error for "${n.name}": ${i}`),o.readAsArrayBuffer(n)});try{const r=await s;let a,i="-",l=null,g=null;if(d.length>0){const c=Ie(r,d);if(c&&c.matchedConfigName&&c.matchedConfigName!=="-"){const E=c.matchedConfigName,x=d.find(R=>R.name===E);x&&(l=x,i=E,g=x.officialSupplierNameForExport||null)}}Me(`Calling regex-based extraction for "${n.name}" with template: ${l?l.name:"None"}`),a=await te(r,l,!1,!1,!1);const p={originalFile:n,fileName:n.name,configUsedName:i,extractedSupplierName:a.supplierName||"-",officialSupplierNameForExport:g,documentDate:a.documentDate?O(a.documentDate):"-",documentNumber:a.documentNumber||"-",totalAmount:a.totalAmount||null};v.push(p)}catch(r){console.error(`Error processing file ${n.name}:`,r);const a={originalFile:n,fileName:n.name,configUsedName:"Error",extractedSupplierName:"Error",officialSupplierNameForExport:"Error",documentDate:"Error",documentNumber:"Error",totalAmount:null,error:r.message};v.push(a),I("error",`Error processing file "${n.name}": ${r.message}`)}e++}v.sort((t,n)=>{const o=new Date(t.documentDate.split("/").reverse().join("-")),s=new Date(n.documentDate.split("/").reverse().join("-"));return isNaN(o.getTime())&&isNaN(s.getTime())?0:isNaN(o.getTime())?1:isNaN(s.getTime())?-1:o.getTime()-s.getTime()}),We(),v.length>0?I("success",`Finished processing ${e} PDF(s). Data ready for download.`):I("warning",`Finished processing ${e} PDF(s), but no data was extracted.`),N()}),W.addEventListener("click",async()=>{if(!f){k();return}try{const e={supplierNamePattern:U.value,documentDatePattern:A.value,documentNumberPattern:D.value,totalAmountPattern:P.value},t=await te(f,e,!0,!1,!1);t?(ae.textContent=t.supplierName||"-",re.textContent=O(t.documentDate),se.textContent=t.documentNumber||"-",le.textContent=V(t.totalAmount),I("success","Preview complete!")):I("warning","No refined data extracted during preview.")}catch(e){I("error",`Error during preview: ${e.message}. Check console for details.`),console.error("Preview error:",e)}finally{u(),N()}}),Le.addEventListener("click",()=>{f?Q("documentDate"):k()}),Re.addEventListener("click",()=>{f?Q("documentNumber"):k()}),ke.addEventListener("click",()=>{f?Q("totalAmount"):k()}),z.addEventListener("click",je),$e.addEventListener("click",Se),j.addEventListener("click",Ue),ie.addEventListener("click",Je),ce.addEventListener("click",Ge),be.addEventListener("click",ze),Ne.addEventListener("click",qe),h.addEventListener("change",we),ve.addEventListener("click",Ze),h.addEventListener("change",()=>{u()}),G.addEventListener("input",u),_.addEventListener("input",u),U.addEventListener("input",u),A.addEventListener("input",u),D.addEventListener("input",u),P.addEventListener("input",u)});
